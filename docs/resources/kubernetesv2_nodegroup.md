---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cmccloudv2_kubernetesv2_nodegroup Resource - terraform-provider-cmccloudv2"
subcategory: ""
description: |-
  
---

# cmccloudv2_kubernetesv2_nodegroup (Resource)



## Example Usage

```terraform
# create a k8s nodegroup without autoscale
data "cmccloudv2_flavor_k8s" "flavor_k8s" {
    name = "c6.small.1.k8s"
}
data "cmccloudv2_volume_type" "ssd" { 
    description = "High I/O (SSD)"
}

resource "cmccloudv2_kubernetesv2_nodegroup" "nodegroup_1" {
	cluster_id         = "ad5a8b1d-0c12-4cd5-b7d9-19a32abfb87f"
	billing_mode       = "monthly"
	name               = "nodegroup_1"
	zone               = "AZ1"
	flavor_id          = "${data.cmccloudv2_flavor_k8s.flavor_k8s.id}"
	key_name           = "keypair-zn75"
	security_group_ids = []
	image_gpu_tag      = "default"
	volume_type        = "${data.cmccloudv2_volume_type.ssd.name}"
	volume_size        = 20
	init_current_node  = 1
	max_pods           = 110
} 

# create a k8s nodegroup with advance options
resource "cmccloudv2_kubernetesv2_nodegroup" "nodegroup_1" {
	cluster_id         = "ad5a8b1d-0c12-4cd5-b7d9-19a32abfb87f"
	billing_mode       = "monthly"
	name               = "nodegroup_1"
	zone               = "AZ1"
	flavor_id          = "${data.cmccloudv2_flavor_k8s.flavor_k8s.id}"
	key_name           = "keypair-zn75"
	security_group_ids = []
	image_gpu_tag      = "default"
	volume_type        = "${data.cmccloudv2_volume_type.ssd.name}"
	volume_size        = 20
	init_current_node  = 1
	max_pods           = 110
	
	#autoscale options
    enable_autoscale = true
    min_node         = 1
    max_node         = 2
	
	#autohealing options
    enable_autohealing           = true
    max_unhealthy_percent        = 80
    node_startup_timeout_minutes = 10
	
	node_metadatas {
		key   = "group"
		value = "cmccloud"
		type  = "label"
	} 
	ntp_servers {
		host     = "vn.pool.ntp.org"
		port     = 123
		protocol = "tcp"
	} 
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (String) The ID of the Kubernetes cluster to attach the node group to
- `enable_autohealing` (Boolean) The enable autohealing of the node group
- `enable_autoscale` (Boolean) The enable autoscale of the node group
- `flavor_id` (String) The flavor ID of the node group
- `key_name` (String) The SSH key name of the node group
- `name` (String) Name of node group, this can't be changed after created
- `volume_size` (Number) The volume size of the node group
- `volume_type` (String) The volume type of the node group
- `zone` (String) The zone of the node group

### Optional

- `billing_mode` (String) The billing mode of the node group. A valid value is monthly or hourly.
- `image_gpu_tag` (String) The image GPU tag of the node group
- `init_current_node` (Number) Node count for initing node group
- `max_node` (Number) The max node of the node group, if enable_autoscale is true, this is required
- `max_pods` (Number) The max pods of the node group, if enable_autoscale is true, this is required
- `max_unhealthy_percent` (Number) The max unhealthy percent of the node group, if enable_autohealing is true, this is required
- `min_node` (Number) The min node of the node group, if enable_autoscale is true, this is required
- `node_metadatas` (Block List) Array of node metadata objects. Each object must have key, value, type, and optionally effect. (see [below for nested schema](#nestedblock--node_metadatas))
- `node_startup_timeout_minutes` (Number) The node startup timeout minutes of the node group, if enable_autohealing is true, this is required
- `ntp_servers` (Block List) List of NTP servers (order matters). (see [below for nested schema](#nestedblock--ntp_servers))
- `security_group_ids` (List of String) The security group IDs of the node group
- `subnet_id` (String) The ID of the subnet to attach the node group to
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.
- `status` (String) The status of the node group

<a id="nestedblock--node_metadatas"></a>
### Nested Schema for `node_metadatas`

Optional:

- `effect` (String) The effect of the node metadata
- `key` (String) The key of the node metadata
- `type` (String) The type of the node metadata
- `value` (String) The value of the node metadata


<a id="nestedblock--ntp_servers"></a>
### Nested Schema for `ntp_servers`

Required:

- `host` (String) NTP server hostname or IP.

Optional:

- `port` (Number) NTP server port.
- `protocol` (String) Protocol used (udp or tcp).


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)
