---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cmccloudv2_redis_instance Resource - terraform-provider-cmccloudv2"
subcategory: ""
description: |-
  
---

# cmccloudv2_redis_instance (Resource)



## Example Usage

```terraform
data "cmccloudv2_flavor_dbaas" "flavor_dbaas" { 
    name = "c6.large.2.db"
} 
data "cmccloudv2_redis_configuration" "config_master_slave" {   
    name          = "redis-hbxm-config-XqCAA"
    database_mode = "master/slave"
} 
# create redis in Cluster mode
resource "cmccloudv2_redis_instance" "redis_instance_masterslave" {
    name               = "redis-2bdr"
    billing_mode       = "monthly"
    database_engine    = "Redis"
    database_version   = "6.0"
    zones              = ["AZ3", "AZ2"]
    flavor_id          = "${data.cmccloudv2_flavor_dbaas.flavor_dbaas.id}"
    volume_size        = 20
    subnet_id          = "036f3b55-2ff8-4350-9fc0-4baf12deca03"
    password           = "5k9DJoK1FqDQShwgocmqkZ23DIlFOaa"
    security_group_ids = [ "2465c8f5-1aa5-4fcd-9ea0-0713d6a1f685" ]
	
	database_mode          = "Cluster"
	replicas               = 1
	redis_configuration_id = "${data.cmccloudv2_redis_configuration.config_master_slave.id}"
}

# create redis in Master/Slave mode
resource "cmccloudv2_redis_instance" "redis_instance_masterslave" {
    name               = "redis-2bdr"
    billing_mode       = "monthly"
    database_engine    = "Redis"
    database_version   = "6.0"
    zones              = ["AZ3", "AZ2"]
    flavor_id          = "${data.cmccloudv2_flavor_dbaas.flavor_dbaas.id}"
    volume_size        = 20
    subnet_id          = "036f3b55-2ff8-4350-9fc0-4baf12deca03"
    password           = "5k9DJoK1FqDQShwgocmqkZ23DIlFOaa"
    security_group_ids = [ "2465c8f5-1aa5-4fcd-9ea0-0713d6a1f685" ]
	
    database_mode = "Master/Slave"
}

# create redis in Standalone mode & using backup
resource "cmccloudv2_redis_instance" "redis_instance_masterslave" {
    name               = "redis_terraform3"
    billing_mode       = "monthly"
    database_engine    = "Redis"
    database_version   = "6.0"
    zones              = ["AZ1"]
    flavor_id          = "${data.cmccloudv2_flavor_dbaas.flavor_dbaas.id}"
    volume_size        = 20
    subnet_id          = "036f3b55-2ff8-4350-9fc0-4baf12deca03"
    password           = "5k9DJoK1FqDQShwgocmqkZ23DIlFOaa"
    security_group_ids = [ "2465c8f5-1aa5-4fcd-9ea0-0713d6a1f685" ]
	
	database_mode = "Standalone"
	backup_id     = "162efde6-caf4-4e5f-b0aa-24fa27c17bfc"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `billing_mode` (String) The billing mode of the Redis instance
- `database_engine` (String) The database engine of the Redis instance, match exactly, case-insensitive
- `database_mode` (String) The database mode of the Redis instance, case-insensitive
- `database_version` (String) The database version of the Redis instance, match exactly, case-insensitive
- `flavor_id` (String) The database flavor ID, using cmccloudv2_flavor_dbaas data source to get the flavor ID from flavor name
- `name` (String) The name of the Redis instance
- `password` (String, Sensitive) Password must be 8-32 characters long, include upper and lower case letters and numbers, and contain no special characters.
- `subnet_id` (String) The ID of the subnet of the Redis instance
- `volume_size` (Number) The size of the volume in GB
- `volume_type` (String) The volume type of the volume
- `zones` (Set of String) If mode is standalone, only the first zone is accepted

### Optional

- `backup_id` (String) The ID of the redis backup
- `redis_configuration_id` (String) The ID of the Redis configuration of the Redis instance
- `replicas` (Number) The number of replicas of the Redis instance, required for Redis Cluster mode
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `created_at` (String) The created time of the Redis instance
- `id` (String) The ID of this resource.
- `status` (String) The status of the Redis instance

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)
