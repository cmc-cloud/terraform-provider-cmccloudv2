---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cmccloudv2_elb_l7policy Resource - terraform-provider-cmccloudv2"
subcategory: ""
description: |-
  
---

# cmccloudv2_elb_l7policy (Resource)



## Example Usage

```terraform
# create l7policy with action is REDIRECT_TO_POOL
resource "cmccloudv2_elb_l7policy" "policy1" {
	listener_id  		= "e785611d-a21a-42d3-8062-6ae2cad66b28"
	name         		= "policy-qsav1"  
	action 				= "REDIRECT_TO_POOL"
	position         	= 3
	redirect_pool_id    = "8528ab15-bedf-45bb-843f-abcec42d7e2b"
}

# create l7policy with action is REDIRECT_TO_URL
resource "cmccloudv2_elb_l7policy" "policy2" {
	listener_id  		= "e785611d-a21a-42d3-8062-6ae2cad66b28"
	name         		= "policy-qsav2"  
	action 				= "REDIRECT_TO_URL"
	position         	= 4
	redirect_url  		= "https://google.com"
	redirect_http_code  = 301
	depends_on 			= [cmccloudv2_elb_l7policy.policy1]
}

# create l7policy with action is REJECT
resource "cmccloudv2_elb_l7policy" "policy3" {
	listener_id  		= "e785611d-a21a-42d3-8062-6ae2cad66b28"
	name         		= "policy-qsav3"  
	action 				= "REJECT"
	position         	= 2
	depends_on 			= [cmccloudv2_elb_l7policy.policy2]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action` (String) The action of the L7 policy
- `listener_id` (String) The ID of the listener to attach the L7 policy to
- `name` (String) The name of the L7 policy

### Optional

- `position` (Number) The position of this policy on the listener. Positions start at 1.
- `redirect_http_code` (Number) Requests matching this policy will be redirected to the specified URL or Prefix URL with the HTTP response code. Valid if action is REDIRECT_TO_URL or REDIRECT_PREFIX. Valid options are: 301, 302, 303, 307, or 308.
- `redirect_pool_id` (String) Requests matching this policy will be redirected to the pool with this ID. Only valid if action is REDIRECT_TO_POOL. The pool has some restrictions
- `redirect_prefix` (String) Requests matching this policy will be redirected to this Prefix URL. Only valid if action is REDIRECT_PREFIX.
- `redirect_url` (String) Requests matching this policy will be redirected to this URL. Only valid if action is REDIRECT_TO_URL.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)
